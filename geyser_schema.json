{
  "$schema": "http://json-schema.org/draft-07/schema",
  "$id": "http://example.com/example.json",
  "type": "object",
  "title": "Geyser profile schema",
  "description": "The schema of a Geyser profile.",
  "default": {
    "__compose__": {},
    "__execute__": {
      "__rule__": "default",
      "__action__": []
    }
  },
  "examples": [
    {
      "__compose__": {
        "path": {
          "__reference__": "geyser.composable.utils.PathManager"
        },
        "env": {
          "__reference__": "geyser.composable.utils.EnvManager"
        },
        "test": {
          "__reference__": "geyser.test.TestPath",
          "path": "__compose__",
          "env": "__compose__"
        },
        "info": {
          "__reference__": "geyser.composable.utils.RuntimeInfo"
        }
      },
      "__execute__": {
        "__rule__": "linear",
        "__action__": [
          {
            "__name__": "test",
            "__enable__": true
          },
          {
            "__name__": "info",
            "__enable__": true
          }
        ]
      }
    }
  ],
  "required": [
    "__compose__",
    "__execute__"
  ],
  "properties": {
    "__compose__": {
      "$id": "#/properties/__compose__",
      "default": {},
      "description": "Compose these objects. The property with value __compose__ will be filled with the object of the same name.",
      "examples": [
        {
          "path": {
            "__reference__": "geyser.composable.utils.PathManager"
          },
          "env": {
            "__reference__": "geyser.composable.utils.EnvManager"
          },
          "test": {
            "__reference__": "geyser.test.TestPath",
            "path": "__compose__",
            "env": "__compose__"
          },
          "info": {
            "__reference__": "geyser.composable.utils.RuntimeInfo"
          }
        }
      ],
      "required": [],
      "title": "Compose",
      "type": "object",
      "properties": {},
      "additionalProperties": {
        "type": "object",
        "required": [
          "__reference__"
        ],
        "properties": {
          "__reference__": {
            "type": "string",
            "pattern": "([a-zA-Z_][a-zA-Z0-9_]*\\.)*([a-zA-Z_][a-zA-Z0-9_]*)",
            "title": "Reference",
            "description": "Reference of a composable Python class."
          }
        },
        "additionalProperties": true,
        "examples": [
          {
            "__reference__": "geyser.composable.utils.PathManager"
          },
          {
            "__reference__": "geyser.test.TestPath",
            "path": "__compose__",
            "env": "__compose__"
          }
        ]
      }
    },
    "__execute__": {
      "$id": "#/properties/__execute__",
      "type": "object",
      "title": "The __execute__ schema",
      "description": "An explanation about the purpose of this instance.",
      "default": {
        "__rule__": "default",
        "__action__": []
      },
      "examples": [
        {
          "__rule__": "linear",
          "__action__": [
            {
              "__name__": "test",
              "__enable__": true
            },
            {
              "__name__": "info",
              "__enable__": true
            }
          ]
        }
      ],
      "required": [
        "__rule__",
        "__action__"
      ],
      "properties": {
        "__rule__": {
          "$id": "#/properties/__execute__/properties/__rule__",
          "default": "",
          "description": "Select the scheduler for execution.",
          "examples": [
            "linear"
          ],
          "title": "Rule",
          "enum": [
            "linear",
            "parallel",
            "default"
          ],
          "type": "string"
        },
        "__action__": {
          "$id": "#/properties/__execute__/properties/__action__",
          "type": "array",
          "title": "Action",
          "description": "Execute these actions.",
          "default": [],
          "examples": [
            [
              {
                "__name__": "test",
                "__enable__": true
              },
              {
                "__name__": "info",
                "__enable__": true
              }
            ]
          ],
          "additionalItems": true,
          "items": {
            "$id": "#/properties/__execute__/properties/__action__/items",
            "anyOf": [
              {
                "$id": "#/properties/__execute__/properties/__action__/items/anyOf/0",
                "type": "object",
                "title": "The first anyOf schema",
                "description": "An explanation about the purpose of this instance.",
                "default": {},
                "examples": [
                  {
                    "__name__": "test",
                    "__enable__": true
                  }
                ],
                "required": [
                  "__name__",
                  "__enable__"
                ],
                "properties": {
                  "__name__": {
                    "$id": "#/properties/__execute__/properties/__action__/items/anyOf/0/properties/__name__",
                    "type": "string",
                    "title": "Name",
                    "description": "The name of executable objects, which must be composed in Composable.",
                    "default": "",
                    "examples": [
                      "test"
                    ]
                  },
                  "__enable__": {
                    "$id": "#/properties/__execute__/properties/__action__/items/anyOf/0/properties/__enable__",
                    "type": "boolean",
                    "title": "Enable",
                    "description": "Whether the action should be execute.",
                    "default": true,
                    "examples": [
                      true
                    ]
                  }
                },
                "additionalProperties": true
              }
            ]
          }
        }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": true
}